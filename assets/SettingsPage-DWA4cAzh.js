import{a as e,r as a,s,c as r,j as o}from"./index-CAkYLr-q.js";function i(){const{user:i}=e(),[l,t]=a.useState(!0),[d,n]=a.useState(!1),[m,u]=a.useState({full_name:"",phone:"",address:"",bio:"",hourly_rate:"",availability:""});function c(e){const{name:a,value:s}=e.target;u((e=>({...e,[a]:s})))}return a.useEffect((()=>{!async function(){try{t(!0);const{data:e,error:a}=await s.from("profiles").select("*").eq("id",i.id).single();if(a)throw a;e&&u({full_name:e.full_name||"",phone:e.phone||"",address:e.address||"",bio:e.bio||"",hourly_rate:e.hourly_rate||"",availability:e.availability||""})}catch(e){r.error("Failed to load profile")}finally{t(!1)}}()}),[i]),l?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Settings"}),o.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:o.jsxs("form",{onSubmit:async function(e){e.preventDefault();try{n(!0);const{error:e}=await s.from("profiles").update(m).eq("id",i.id);if(e)throw e;r.success("Profile updated successfully")}catch(a){r.error("Failed to update profile")}finally{n(!1)}},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),o.jsx("input",{type:"text",id:"full_name",name:"full_name",value:m.full_name,onChange:c,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),o.jsx("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:c,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),o.jsx("textarea",{id:"address",name:"address",rows:3,value:m.address,onChange:c,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),o.jsx("textarea",{id:"bio",name:"bio",rows:4,value:m.bio,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"hourly_rate",className:"block text-sm font-medium text-gray-700",children:"Hourly Rate ($)"}),o.jsx("input",{type:"number",id:"hourly_rate",name:"hourly_rate",value:m.hourly_rate,onChange:c,min:"0",step:"0.01",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"availability",className:"block text-sm font-medium text-gray-700",children:"Availability"}),o.jsx("textarea",{id:"availability",name:"availability",rows:3,value:m.availability,onChange:c,placeholder:"e.g., Monday-Friday: 9 AM - 5 PM",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),o.jsx("button",{type:"submit",disabled:d,className:"inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Saving...":"Save Changes"})]})})]})}export{i as default};
