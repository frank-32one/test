import{a as e,r as o,j as s,s as n,c as t}from"./index-BBRvJfK9.js";function a(){const{user:a}=e(),[i,l]=o.useState(!0),[r,d]=o.useState(null),[m,c]=o.useState({full_name:"",phone_number:"",bio:"",location:""});o.useEffect((()=>{a&&async function(){try{const{data:e,error:o}=await n.from("profiles").select("*").eq("id",a.id).single();if(o)throw o;d(e),c({full_name:e.full_name||"",phone_number:e.phone_number||"",bio:e.bio||"",location:e.location||""})}catch(e){t.error("Failed to load profile")}finally{l(!1)}}()}),[a]);const u=e=>{const{name:o,value:s}=e.target;c((e=>({...e,[o]:s})))};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):s.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Profile Settings"}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const{error:e}=await n.from("profiles").update(m).eq("id",a.id);if(e)throw e;t.success("Profile updated successfully"),d({...r,...m})}catch(o){t.error("Failed to update profile")}finally{l(!1)}},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx("input",{type:"text",name:"full_name",id:"full_name",value:m.full_name,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone_number",id:"phone_number",value:m.phone_number,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),s.jsx("input",{type:"text",name:"location",id:"location",value:m.location,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),s.jsx("textarea",{name:"bio",id:"bio",rows:4,value:m.bio,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Changes"})})]})]})}export{a as default};
